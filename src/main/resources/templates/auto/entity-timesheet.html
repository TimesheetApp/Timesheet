<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Timesheet</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/style.css}">

</head>
<body>
<!---------------------------------------------------------------------
Timesheet Template

This HTML file is contain multiple template fragment for Timesheet
a fragment is look like

<th:block th:fragment="action-post-create">
... ... ...
... ... ...
</th:block>

the fragment name is 'action-post-create' mean that it is an
action handler for method 'post' of ActionType 'create'


---------------------------------------------------------------------->

<th:block th:fragment="action-get-create">
    <th:block th:replace="::action-any-create-update">
        WE SHARE ONE FRAGMENT action-any-create-update
    </th:block>
</th:block>

<th:block th:fragment="action-post-create">
    <th:block th:replace="::action-any-create-update">
        WE SHARE ONE FRAGMENT action-any-create-update
    </th:block>
</th:block>

<th:block th:fragment="action-get-update">
    <th:block th:replace="::action-any-create-update">
        WE SHARE ONE FRAGMENT action-any-create-update
    </th:block>
</th:block>

<th:block th:fragment="action-post-update">
    <th:block th:replace="::action-any-create-update">
        WE SHARE ONE FRAGMENT action-any-create-update
    </th:block>
</th:block>

<th:block th:fragment="action-any-create-update">
    <div class="container">
        <!--    ///check object name!! and action link


        There was an error in the template below

            <form action="#" th:action="@{/processtimesheet}" th:object="${timesheet}" method="post"/>
                                                                                                     ^-- HERE!
            enctype="multipart/form-data" class="custom">



        -->
        <!-- KEEP THE LINE BELOW, <...@thymesVar... IT IS NOT A COMMENT
            You shoud change it according to jediEntity variable type
            in  this case it is Timesheet (use fully qualify name, include package name, like below)

        -->
        <!--/*@thymesVar id="jediEntity" type="jbc.timesheet.model.Timesheet"*/-->
        <!--/*@thymesVar id="jediActionNext" type="java.lang.String"*/-->
        <!--/*@thymesVar id="jediMethodNext" type="java.lang.String"*/-->


        <th:block th:if="${jediError}">
            <pre style="display:block;white-space: pre-line; border: red 2px solid; font-size: 0.8rem; margin: 1rem; padding: 1rem;"><code><span
                    th:text="${jediError}">...</span></code></pre>
        </th:block>

        <div class="card text-center">
            <div class="card-header">
                Welcome
            </div>
            <div class="card-body">
                <h5 class="card-title">Add a TimeSheet</h5>
<!--                <p class="card-text">Please add a start and end date</p>-->

        <form action="#" class="custom" enctype="multipart/form-data" th:action="@{${jediActionNext}}"
              th:method="${jediMethodNext}" th:object="${jediEntity}">

            <input th:field="*{id}" type="hidden"/>

            Start Date :<input class="form-control" th:field="*{isoStartDate}" type="date"/>
            <span th:errors="${jediEntity.isoStartDate}"
                  th:if="${#fields.hasErrors('isoStartDate')}"></span><br/>
            End Date :<input class="form-control" th:field="*{isoEndDate}" type="date"/>
            <span th:errors="${jediEntity.isoEndDate}"
                  th:if="${#fields.hasErrors('isoEndDate')}"></span><br/>

            <input th:field="*{activityList}" type="hidden"/>

            <input th:field="*{stage}" type="hidden"/>

            <input th:field="*{employee}" type="hidden"/>


            <input type="submit" value="Submit"/>
        </form>
<!--        <a href="#" class="btn btn-primary">Go somewhere</a>-->
    </div>
    <div class="card-footer text-muted">
        Thank you!
    </div>
    </div>
    </div>
</th:block>


<th:block th:fragment="action-get-view">
    <th:block th:replace="::message">DISPLAY MESSAGES</th:block>
    <h2 class="display-4">Timesheet Information</h2><br />
    <span th:text="${jediEntity.startDate}">11/12/19</span>
    <span th:text="${jediEntity.endDate}">11/16/19</span>

    <a th:href="@{/timesheet/update/{id}(id=${jediEntity.id})}">Edit</a>
    <a th:href="@{/timesheet/delete/{id}(id=${jediEntity.id})}">Delete</a>


</th:block>

<th:block th:fragment="action-get-list">
    <h2 class="display-4">Timesheet Directory</h2>
    <ul>
        <th:block th:each="jediEntity : ${jediEntityCollection}">
            <li><a th:href="@{/timesheet/view/{id}(id=${jediEntity.id})}">
                <span th:text="${jediEntity.isoStartDate}">John</span>
                <span th:text="${jediEntity.isoEndDate}">Doe</span>
            </a>
            </li>
        </th:block>
    </ul>
</th:block>


</body>
</html>